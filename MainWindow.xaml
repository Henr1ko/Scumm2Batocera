<Window x:Class="ScummIdGui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Scumm2Batocera - ScummVM to Batocera Exporter" Height="650" Width="1000"
        WindowStartupLocation="CenterScreen" Background="#FF2C2C2C">
    <Grid Margin="10">
        <Grid.RowDefinitions>
     <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
  <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
 </Grid.RowDefinitions>

      <!-- Header -->
      <TextBlock Grid.Row="0" Text="Scumm2Batocera" FontSize="24" FontWeight="Bold" 
              Foreground="#FF00BCD4" Margin="0,0,0,15"/>

        <!-- Input Folder Selection -->
        <GroupBox Grid.Row="1" Header="1. Select Source Folder" Padding="10" Margin="0,0,0,10"
 Foreground="White" BorderBrush="#FF555555">
            <Grid>
              <Grid.ColumnDefinitions>
     <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
      <TextBox x:Name="SourceFolderTextBox" Grid.Column="0" VerticalContentAlignment="Center"
     Background="#FF3C3C3C" Foreground="White" Padding="5" BorderBrush="#FF555555"/>
        <Button x:Name="BrowseSourceButton" Grid.Column="1" Content="Browse..." Width="100" 
    Margin="10,0,0,0" Click="BrowseSourceButton_Click" 
Background="#FF00BCD4" Foreground="White" BorderThickness="0" Padding="10,5"/>
  </Grid>
        </GroupBox>

      <!-- Output Folder Selection -->
        <GroupBox Grid.Row="2" Header="2. Select Output Folder (Batocera Ready)" Padding="10" Margin="0,0,0,10"
   Foreground="White" BorderBrush="#FF555555">
            <Grid>
   <Grid.ColumnDefinitions>
    <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
          <TextBox x:Name="OutputFolderTextBox" Grid.Column="0" VerticalContentAlignment="Center"
         Background="#FF3C3C3C" Foreground="White" Padding="5" BorderBrush="#FF555555"/>
              <Button x:Name="BrowseOutputButton" Grid.Column="1" Content="Browse..." Width="100" 
      Margin="10,0,0,0" Click="BrowseOutputButton_Click" 
         Background="#FF00BCD4" Foreground="White" BorderThickness="0" Padding="10,5"/>
            </Grid>
        </GroupBox>

  <!-- Results DataGrid -->
 <GroupBox Grid.Row="3" Header="3. Identified Games" Padding="10" Margin="0,0,0,10"
            Foreground="White" BorderBrush="#FF555555">
       <DataGrid x:Name="ResultsDataGrid" AutoGenerateColumns="False" 
       Background="#FF3C3C3C" Foreground="White"
   RowBackground="#FF3C3C3C" AlternatingRowBackground="#FF454545"
       BorderBrush="#FF555555" GridLinesVisibility="Horizontal"
    HorizontalGridLinesBrush="#FF555555"
   HeadersVisibility="Column" CanUserAddRows="False"
  IsReadOnly="True" SelectionMode="Single">
        <DataGrid.Columns>
     <DataGridTextColumn Header="Folder Name" Binding="{Binding FolderName}" Width="200"/>
        <DataGridTextColumn Header="Identified As" Binding="{Binding DisplayName}" Width="*"/>
       <DataGridTextColumn Header="Short ID" Binding="{Binding ShortId}" Width="120"/>
    <DataGridTextColumn Header="Confidence" Binding="{Binding ConfidenceScore}" Width="100"/>
       <DataGridTextColumn Header="Reason" Binding="{Binding MatchReason}" Width="200"/>
          </DataGrid.Columns>
  </DataGrid>
    </GroupBox>

        <!-- Action Buttons -->
 <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
   <Button x:Name="ScanButton" Content="Scan Folder" Width="150" Height="40" 
            Click="ScanButton_Click" Background="#FF4CAF50" Foreground="White" 
    BorderThickness="0" Margin="5" FontSize="14" FontWeight="Bold"/>
            <Button x:Name="ExportButton" Content="Export Batocera Ready" Width="200" Height="40" 
  Click="ExportButton_Click" Background="#FFFF9800" Foreground="White" 
   BorderThickness="0" Margin="5" FontSize="14" FontWeight="Bold" IsEnabled="False"/>
        </StackPanel>

        <!-- Status Bar with Progress -->
 <Border Grid.Row="5" Background="#FF1C1C1C" Padding="10,5" BorderBrush="#FF555555" BorderThickness="0,1,0,0">
    <Grid>
         <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
         <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

                <!-- Selectable TextBox styled like TextBlock for copy-paste -->
         <TextBox x:Name="StatusTextBlock" Grid.Row="0" 
     Foreground="#FF00BCD4" FontSize="12" 
            Text="Ready. Load scummvm-games.json from program folder."
                   Background="Transparent" BorderThickness="0"
          IsReadOnly="True" TextWrapping="Wrap"
            Cursor="Arrow"/>
  
          <!-- Progress Bar -->
 <ProgressBar x:Name="ProgressBar" Grid.Row="1" 
       Height="4" Margin="0,5,0,0"
           Foreground="#FF00BCD4" Background="#FF555555"
         Visibility="Collapsed"/>
            </Grid>
      </Border>
    </Grid>
</Window>
